(()=>{"use strict";var n={365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Fredoka:wght@300..700&family=Pixelify+Sans:wght@400..700&display=swap);"]),i.push([n.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\n:root {\n  --background: rgb(25, 51, 90);\n  --main-colour: rgb(74, 160, 200);\n  --sec-colour: rgb(6, 68, 105);\n  --ter-colour: rgb(208, 215, 225);\n  --miss-colour: rgb(2, 24, 46);\n  --special-col: rgb(139, 246, 8);\n  --carrier: rgb(102, 0, 0);\n  --battleship: rgb(129, 34, 141);\n  --cruiser: rgb(255, 153, 19);\n  --submarine: rgb(255, 255, 0);\n  --destroyer: rgb(0, 240, 168);\n}\n\nbody {\n  width: 100vw;\n  position: relative;\n  background-color: var(--background);\n  color: var(--ter-colour);\n  font-family: 'Fredoka', sans-serif;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 90%;\n}\n\n/* dialog items */\n#dispAlert {\n  width: 40rem;\n  height: 15rem;\n  padding: 5%;\n  border-radius: 0.5rem;\n  background-color: rgb(208, 215, 225, 0.2);\n  border: none;\n  backdrop-filter: blur(20px);\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n#dispAlert::backdrop {\n  background-color: rgba(25, 51, 90, 0.8);\n}\n\n#dispAlert > div {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n#dispAlert h3 {\n  text-transform: capitalize;\n  font-size: 3rem;\n  font-weight: 400;\n  color: var(--ter-colour);\n}\n\n.closer {\n  transition: 100ms ease-in;\n}\n\n.closer:hover {\n  filter: brightness(0.7);\n  transition: 100ms ease-in;\n}\n\n.closer svg {\n  height: 5rem;\n}\n\n/* 1 - header section */\nheader {\n  padding: 1rem 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\nh1 {\n  font-size: 4rem;\n  font-weight: 300;\n}\n\n/* 2 - content section */\n.content {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr;\n  height: fit-content;\n  padding: 0 0 3rem;\n}\n\n.gameInit {\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  height: 84vh;\n  padding: 0 0 2.5rem 0;\n}\n\n.gameActive {\n  grid-row: 1 / 2;\n  grid-column: 1 / 2;\n  display: none;\n  flex-direction: column;\n}\n\n.gameActive.hidden,\n.gameInit.hidden {\n  visibility: hidden;\n  pointer-events: none;\n}\n\n/* 2.1 - game setup area */\n.gameInit > p {\n  font-size: 2.5rem;\n  font-weight: 100;\n  text-align: center;\n  text-transform: capitalize;\n}\n\n#pageDesc {\n  font-size: 0.8rem;\n}\n\n.initCtn {\n  display: flex;\n  height: 80%;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n}\n\n.newGame {\n  height: 8rem;\n  width: 24rem;\n  font-size: 2rem;\n}\n\n.playerInit {\n  display: flex;\n  height: 95%;\n}\n\n.detailInitCtn {\n  flex: 0 1 40%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  padding: 3%;\n}\n\n.playerNameCtn {\n  flex: 0 1 20%;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.playerNameCtn > p {\n  text-transform: capitalize;\n  font-size: 2rem;\n}\n\n.nameInput {\n  height: 3rem;\n  font-size: 1.3rem;\n  padding: 0 0 0 0.5rem;\n  background-color: var(--ter-colour);\n  border-radius: 1rem;\n  border: 3px solid var(--sec-colour);\n  transition: 0.1s ease-in;\n}\n\n.nameInput:focus,\n.nameInput:active {\n  border: 5px solid var(--main-colour);\n  outline: none;\n  transition: 0.1s ease-in;\n}\n\n.placerCtn {\n  flex: 0 1 80%;\n  padding: 5%;\n  color: var(--background);\n  border-radius: 0.5rem;\n  background-color: var(--ter-colour);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 1rem;\n}\n\n.placerCtn > p {\n  font-size: 2rem;\n  text-transform: capitalize;\n}\n\n.placerShips {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.placeShipBtn {\n  height: 2.5rem;\n  border: 1px solid var(--background);\n  border-radius: 0.5rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-transform: capitalize;\n}\n\n.placeShipBtn:hover {\n  filter: brightness(0.7);\n}\n\n.altColour {\n  color: var(--ter-colour);\n}\n\n.placerBtnCtn {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  gap: 1.5rem;\n}\n\n.placerBtnCtn svg {\n  height: 2rem;\n}\n\n.resetGame,\n.rotateGame {\n  border-radius: 100%;\n  padding: 0.7rem;\n  width: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.placerBtnCtn button {\n  height: 3rem;\n}\n\n.placerBtnCtn button:hover {\n  border: 1px solid var(--sec-colour);\n}\n\n.initBoardCtn {\n  flex: 0 1 60%;\n  display: flex;\n  justify-content: center;\n  padding: 3% 10% 3%;\n}\n\n#initBoard {\n  background-color: var(--sec-colour);\n  border: 1px solid var(--ter-colour);\n  border-radius: 0.5rem;\n  padding: 1rem;\n}\n\n#initBoard > .cell:hover {\n  scale: 1.025;\n}\n\n#initBoard > .cell.hover-valid {\n  background-color: #808080b3;\n  transition: background-color 0.1s;\n}\n\n#initBoard > .cell.hover-invalid {\n  background-color: #c0392bb3;\n  transition: background-color 0.1s;\n}\n\n/* 2.2 - active game area */\n.dispArea {\n  width: 100%;\n  height: 4rem;\n  margin: 1rem 0 3rem;\n  display: flex;\n  justify-content: space-between;\n  gap: 25%;\n  padding: 0 5%;\n}\n\n.turnDisplay {\n  flex: 1 1 50%;\n  font-size: 1.3rem;\n  display: flex;\n  justify-content: left;\n  align-items: center;\n}\n\n.gameStateMessage {\n  flex: 1 1 50%;\n  border-radius: 0.25rem;\n  border: 1px solid var(--ter-colour);\n  background-color: var(--sec-colour);\n  padding: 0.8rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--ter-colour);\n  font-size: 1.3rem;\n}\n\n.grids {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8%;\n  width: 90%;\n  margin: 0 auto;\n}\n\n.grids > div {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.boardTitle {\n  text-transform: capitalize;\n}\n\n.gameboard {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  gap: 0.25rem;\n  width: 100%;\n  aspect-ratio: 1 / 1;\n}\n\n.cell {\n  background-color: var(--ter-colour);\n  border-radius: 0.25rem;\n  display: grid;\n  grid-template-columns: 1fr;\n  width: 100%;\n  aspect-ratio: 1 / 1;\n}\n\n.cell:hover {\n  background-color: var(--main-colour);\n  scale: 1.07;\n  transition: 0.2s;\n}\n\n.gameDetails {\n  margin: 3rem 0 3rem;\n  display: flex;\n  gap: 3rem;\n}\n\n.shipsRemaining {\n  flex: 1 1 25%;\n  padding: 0.5rem 1rem;\n  height: 13rem;\n  color: var(--background);\n  background-color: var(--ter-colour);\n  border: 1px solid var(--sec-colour);\n  border-radius: 0.25rem;\n  gap: 0.5rem;\n}\n\n.shipsRemaining > div {\n  height: 6rem;\n}\n\n.player1ships,\n.player2ships {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n}\n\n.shipContainer {\n  display: flex;\n  height: 40%;\n  gap: 0.5rem;\n}\n\n.shipContainer > div {\n  flex: 1;\n  border-radius: 0.5rem;\n  border: 1px dashed var(--background);\n}\n\n.shipContainer > div.sunk {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: clamp(1rem, 1.5vw, 3rem);\n  filter: brightness(0.4);\n}\n\n.statboard {\n  flex: 1 1 75%;\n  padding: 0.5rem;\n  display: flex;\n  justify-content: space-around;\n  background-color: var(--sec-colour);\n  border: 1px solid var(--ter-colour);\n  border-radius: 0.25rem;\n}\n\n.player1stats,\n.player2stats {\n  flex: 0 1 40%;\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\n.statVal {\n  color: var(--special-col);\n}\n\n/* 2.3 - running game styles */\n#p1,\n.placed {\n  pointer-events: none;\n}\n\n.miss {\n  background-color: #02182e;\n}\n\n.hit {\n  justify-items: center;\n  align-content: center;\n  font-size: clamp(1rem, 1.5vw, 3rem);\n}\n\n.sunk {\n  filter: brightness(0.3);\n}\n\n.hasShip {\n  scale: 1.125;\n}\n\n.selected {\n  filter: grayscale(0.9);\n}\n\n.gameover {\n  pointer-events: none;\n  opacity: 0.5;\n}\n\n/* 3 - footer section */\nfooter {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--main-colour);\n  color: var(--background);\n  position: absolute;\n  padding: 1rem 0;\n  height: 3rem;\n  width: 100%;\n  gap: 1rem;\n  bottom: 0;\n  left: 0;\n}\n\n.footerLink:link {\n  color: var(--background);\n}\n\n.footerLink:hover {\n  color: var(--ter-colour);\n}\n\n.footerLink:visited {\n  color: var(--background);\n}\n\n.footerLink:visited:hover {\n  color: var(--ter-colour);\n}\n\n.footerLink > svg {\n  height: 2rem;\n}\n\n/* common styling */\nbutton,\n.cell {\n  cursor: pointer;\n}\n\nbutton {\n  height: 3rem;\n  font-size: 1rem;\n  padding: 0.5rem 2rem;\n  text-transform: capitalize;\n  background-color: var(--main-colour);\n  color: var(--background);\n  transition: 0.3s;\n  border: none;\n}\n\nbutton:hover {\n  background-color: var(--ter-colour);\n  scale: 1.1;\n  transition: 0.3s;\n}\n\n.hiddenBtn {\n  visibility: hidden;\n  pointer-events: none;\n}\n\nh3 {\n  font-weight: 600;\n}\n\n.carrier {\n  background-color: var(--carrier);\n}\n\n.battleship {\n  background-color: var(--battleship);\n}\n\n.cruiser {\n  background-color: var(--cruiser);\n}\n\n.submarine {\n  background-color: var(--submarine);\n}\n\n.destroyer {\n  background-color: var(--destroyer);\n}\n",""]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,o,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(m);else{var h=o(m,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,o){var a=r(n=n||[],o=o||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=r(n,o),l=0;l<a.length;l++){var d=t(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=c}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),o=t.n(r),a=t(825),i=t.n(a),s=t(659),c=t.n(s),l=t(56),d=t.n(l),u=t(540),p=t.n(u),m=t(113),h=t.n(m),f=t(365),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=p(),o()(f.A,g),f.A&&f.A.locals&&f.A.locals;class y{constructor(n,e){this.name=n,this.length=e,this.hits=0,this.sunk=!1}hit(){this.hits+=1,this.isSunk()}isSunk(){this.hits==this.length&&(this.sunk=!0)}}class v{constructor(){this.board=Array(10).fill().map((()=>Array(10).fill(0))),this.ships=[]}placeShip(n,e,t,r){if("horizontal"===e&&r+n.length>10||"vertical"===e&&t+n.length>10)return!1;for(let o=0;o<n.length;o++)if("horizontal"===e){if(0!==this.board[t][r+o])return!1}else if("vertical"===e&&0!==this.board[t+o][r])return!1;if(!this.checkCollision(n,e,t,r))return!1;for(let o=0;o<n.length;o++)"horizontal"===e?this.board[t][r+o]=n:"vertical"===e&&(this.board[t+o][r]=n);return this.ships.push({name:n,startX:t,startY:r,endX:"horizontal"===e?t:t+n.length-1,endY:"horizontal"===e?r+n.length-1:r}),!0}receiveAttack(n,e){const t=this.board[n][e];return"miss"!=t&&"hit"!=t&&(0==t?(this.board[n][e]="miss",{hit:!1,sunk:!1}):"object"==typeof t?(t.hit(),{hit:!0,sunk:t.sunk}):void 0)}allSunk(){for(let n=0;n<10;n++)for(let e=0;e<10;e++)if("object"==typeof this.board[n][e]&&!this.board[n][e].sunk)return!1;return!0}resetBoard(){this.board=Array(10).fill().map((()=>Array(10).fill(0))),this.ships=[]}checkCollision(n,e,t,r){for(let o=0;o<n.length;o++)if("horizontal"==e){if(0!==this.board[t][r+o])return!1;if(r+o>0&&0!==this.board[t][r+o-1])return!1;if(r+o<9&&0!==this.board[t][r+o+1])return!1;if(t>0&&0!==this.board[t-1][r+o])return!1;if(t<9&&0!==this.board[t+1][r+o])return!1}else if("vertical"==e){if(0!==this.board[t+o][r])return!1;if(t+o<9&&0!==this.board[t+o+1][r])return!1;if(t+o>0&&0!==this.board[t+o-1][r])return!1;if(r>0&&0!==this.board[t+o][r-1])return!1;if(r<9&&0!==this.board[t+o][r+1])return!1}return!0}}class b{constructor(n){this.playerName=n,this.playerBoard=new v,this.stats={misses:0,hits:0,oppSunk:0}}}function x(){const n=document.querySelector(".gameInit");n.innerHTML="";const e=document.createElement("div");e.classList.add("playerInit");const t=document.createElement("p");t.textContent="place your ships";const r=document.createElement("p");r.textContent="select a ship and place it on the grid",r.id="pageDesc";const o=document.createElement("div");o.classList.add("detailInitCtn");const a=document.createElement("div");a.classList.add("playerNameCtn");const i=document.createElement("div");i.classList.add("placerCtn");const s=document.createElement("p");s.textContent="enter your name:";const c=document.createElement("input");c.classList.add("nameInput"),c.type="text",a.appendChild(s),a.appendChild(c);const l=document.createElement("p");l.textContent="ships";const d=document.createElement("div");d.classList.add("placerShips");const u=document.createElement("div");u.classList.add("placerBtnCtn");const p=document.createElement("div");p.classList.add("placeShipBtn"),p.classList.add("altColour"),p.classList.add("carrier"),p.textContent="carrier";const m=document.createElement("div");m.classList.add("placeShipBtn"),m.classList.add("battleship"),m.classList.add("altColour"),m.textContent="battleship";const h=document.createElement("div");h.classList.add("placeShipBtn"),h.classList.add("cruiser"),h.textContent="cruiser";const f=document.createElement("div");f.classList.add("placeShipBtn"),f.classList.add("submarine"),f.textContent="submarine";const g=document.createElement("div");g.classList.add("placeShipBtn"),g.classList.add("destroyer"),g.textContent="destroyer";const y=document.createElement("button");y.classList.add("resetGame"),y.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n\t<path fill="currentColor" d="M4.02 9.46A5.002 5.002 0 0 0 14 9c0-2.76-2.24-5-5-5H1.71l2.15 2.15a.5.5 0 0 1-.707.707l-3-3a.5.5 0 0 1 0-.707l3-3a.5.5 0 0 1 .707.707l-2.15 2.15H9c3.31 0 6 2.69 6 6s-2.69 6-6 6c-3.13 0-5.7-2.4-5.98-5.46a.5.5 0 0 1 .996-.09z" />\n\t<path fill="currentColor" d="M10.7 10.1a.5.5 0 0 1-.447.895l-2-1a.5.5 0 0 1-.276-.447v-3a.5.5 0 0 1 1 0v2.69l1.72.862z" />\n</svg>';const v=document.createElement("button");v.classList.add("rotateGame"),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\n\t<path fill="currentColor" d="M118.868 319.999q27.586 0 41.735 15.981q13.641 15.474 13.641 45.503q0 28.91-10.281 50.897q-10.281 21.886-30.335 30.946q-13.335 6.006-33.287 6.006q-11.808 0-26.365-2.545l3.156-26.772q12.52 3.868 22.903 3.868q19.545 0 29.928-12.622q8.348-10.078 9.467-25.449q-13.54 12.622-31.556 12.622q-20.868 0-32.778-12.724Q64 393.698 64 371.914q0-23.209 12.724-36.443q14.862-15.472 42.144-15.472m137.799-.207q32.981 0 46.927 25.246q9.365 17.101 9.365 49.472q0 35.424-11.502 52.832q-14.354 21.784-44.79 21.784q-32.88 0-46.928-25.245q-9.365-17-9.365-50.287q0-34.61 11.503-52.018q14.353-21.784 44.79-21.784m0 25.449q-12.114 0-17.967 11.91t-5.853 36.748q0 25.754 5.7 37.563q5.904 12.215 18.12 12.215q12.215 0 18.017-11.961q5.803-11.961 5.803-37.206q0-25.347-5.599-37.053q-5.904-12.216-18.221-12.216m-138.003-.608q-10.485 0-16.44 6.871t-5.955 18.883q0 11.096 5.65 17.204q5.649 6.107 15.931 6.107q11.706 0 18.526-8.042q5.395-6.31 5.395-15.88q0-12.01-6.107-18.425q-6.311-6.718-17-6.718m30.795-301.961l-.027 57.387a173 173 0 0 1 6.843-7.247c66.649-66.65 174.709-66.65 241.359 0c65.392 65.392 66.626 170.647 3.701 237.543l-3.43 3.545l-30.169-30.172c49.715-50.009 49.624-130.85-.272-180.746c-49.987-49.987-131.032-49.987-181.019 0a130 130 0 0 0-4.748 5.006l53.095.017v42.667h-128v-128z" />\n</svg>';const b=document.createElement("button");b.classList.add("startGame"),b.textContent="start game",d.appendChild(p),d.appendChild(m),d.appendChild(h),d.appendChild(f),d.appendChild(g),u.appendChild(y),u.appendChild(v),u.appendChild(b),i.appendChild(l),i.appendChild(d),i.appendChild(u);const x=document.createElement("div");x.classList.add("initBoardCtn");const C=document.createElement("div");C.id="initBoard",C.classList.add("gameboard"),o.appendChild(a),o.appendChild(i),x.appendChild(C),e.appendChild(o),e.appendChild(x),n.appendChild(t),n.appendChild(r),n.appendChild(e)}function C(){document.querySelectorAll(".gameboard").forEach((n=>{n.innerHTML="";for(let e=0;e<10;e++)for(let t=0;t<10;t++){const r=document.createElement("div");r.classList.add("cell"),r.dataset.xCoord=e,r.dataset.yCoord=t,n.appendChild(r)}}))}function S(n){const e=document.querySelector("#dispAlert");document.querySelector("#dispAlert h3").textContent=n,e.showModal(),document.querySelector("#dispAlert .closer").addEventListener("click",(()=>{e.close()}))}let k=!0;const q=[];let L={hits:[],direction:null};function E(){const n=Y.player,e=document.querySelectorAll(".grids .gameboard");5==n.stats.oppSunk?(S("Well Done! You Win :)"),e.forEach((n=>{n.classList.add("gameover")})),M("Game Over")):5==O.stats.oppSunk&&(S("Too Bad! Computer Wins :("),e.forEach((n=>{n.classList.add("gameover")})),M("Game Over"))}function w(){const n=Y.player.playerBoard.board;let e,t,r;if(q.length>0)[e,t]=q.shift();else do{e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),r=document.querySelector(`#p1 .cell[data-x-coord="${e}"][data-y-coord="${t}"]`)}while(!r||r.classList.contains("hit")||r.classList.contains("miss"));const o=Y.player.playerBoard.receiveAttack(e,t);if(r=document.querySelector(`#p1 .cell[data-x-coord="${e}"][data-y-coord="${t}"]`),o.hit){if(j(r),O.stats.hits+=1,o.sunk){O.stats.oppSunk+=1;const o=Y.player.playerBoard.board[e][t].name;$(r,o);for(let e=0;e<10;e++)for(let t=0;t<10;t++)if(n[e][t].name==o){const n=document.querySelector(`#p1 .cell[data-x-coord="${e}"][data-y-coord="${t}"]`);n&&$(n,o);const r=document.querySelector(`.player1ships .${o}`);r&&(r.classList.add("sunk"),r.innerHTML="&#x274C;")}q.length=0,L.hits=[],L.direction=null}else{if(L.hits.push([e,t]),!L.direction&&L.hits.length>=2){const[[n,e],[t,r]]=L.hits.slice(0,2);n===t?L.direction="horizontal":e===r&&(L.direction="vertical")}if(L.direction){const[n,e]=L.hits[0],[t,r]=L.hits[L.hits.length-1];let o,a;"horizontal"===L.direction?(o=[t,r+1],a=[n,e-1]):(o=[t+1,r],a=[n-1,e]),[o,a].forEach((n=>{let[e,t]=n;if(e>=0&&e<10&&t>=0&&t<10){const n=document.querySelector(`#p1 .cell[data-x-coord="${e}"][data-y-coord="${t}"]`);!n||n.classList.contains("hit")||n.classList.contains("miss")||q.push([e,t])}}))}else[[e-1,t],[e+1,t],[e,t-1],[e,t+1]].forEach((n=>{let[e,t]=n;if(e>=0&&e<10&&t>=0&&t<10){const n=document.querySelector(`#p1 .cell[data-x-coord="${e}"][data-y-coord="${t}"]`);!n||n.classList.contains("hit")||n.classList.contains("miss")||q.push([e,t])}}))}A(),E(),setTimeout(w,800)}else r.classList.add("miss","placed"),k=!0,O.stats.misses+=1,z(Y.name),M("Computer Missed. Your Turn!"),A()}function B(n){if(!k)return;const e=n.currentTarget,t=Number(e.dataset.xCoord),r=Number(e.dataset.yCoord),o=O.playerBoard.receiveAttack(t,r);if(o.hit){if(j(e),Y.player.stats.hits+=1,M("You made a Hit. Play Again."),o.sunk){Y.player.stats.oppSunk+=1;const n=O.playerBoard.board[t][r].name;$(e,n);for(let e=0;e<10;e++)for(let t=0;t<10;t++)O.playerBoard.board[e][t].name==n&&(document.querySelector(`#p2Comp .cell[data-x-coord="${e}"][data-y-coord="${t}"]`).classList.add("hasShip","sunk",`${n}`),document.querySelector(`.player2ships .${n}`).classList.add("sunk"),document.querySelector(`.player2ships .${n}`).innerHTML="&#x274C;")}A(),E()}else k=!1,Y.player.stats.misses+=1,e.classList.add("miss","placed"),M("You Miss. Switching Turns..."),setTimeout(w,1e3),z("Computer"),A()}function A(){const n=Y.player,e=document.querySelector(".player1stats .oppHits span"),t=document.querySelector(".player1stats .mySunk span"),r=document.querySelector(".player1stats .myMiss span"),o=document.querySelector(".player1stats .myHits span"),a=document.querySelector(".player1stats .oppSunk span"),i=document.querySelector(".player2stats .oppHits span"),s=document.querySelector(".player2stats .mySunk span"),c=document.querySelector(".player2stats .myMiss span"),l=document.querySelector(".player2stats .myHits span"),d=document.querySelector(".player2stats .oppSunk span");e.textContent=O.stats.hits,i.textContent=n.stats.hits,t.textContent=O.stats.oppSunk,s.textContent=n.stats.oppSunk,r.textContent=n.stats.misses,c.textContent=O.stats.misses,o.textContent=n.stats.hits,l.textContent=O.stats.hits,a.textContent=n.stats.oppSunk,d.textContent=O.stats.oppSunk}function z(n){document.querySelector(".turnDisplay span").textContent=n}function M(n){const e=document.querySelector(".gameStateMessage");e.textContent="",e.textContent=n}function j(n){n.innerHTML="&#x1F4A5;",n.classList.add("hit","placed")}function $(n,e){n.classList.add("hasShip","sunk",e)}function T(){!function(){const n=document.querySelector(".player1ships span"),e=document.querySelector(".player1stats h3");n.textContent=Y.name,e.textContent=Y.name}(),function(){const n=document.querySelector("#p1"),e=Y.player.playerBoard.board;for(let t=0;t<10;t++)for(let r=0;r<10;r++)if(e[t][r]){const o=e[t][r];n.querySelector(`[data-x-coord="${t}"][data-y-coord="${r}"]`).classList.add("hasShip",`${o.name}`)}}(),z(Y.name),M("waiting for first move..."),document.querySelector(".restartGame").addEventListener("click",(()=>{!function(){const n=document.querySelectorAll(".grids .gameboard"),e=document.querySelectorAll(".shipsRemaining .shipContainer div");n.forEach((n=>{n.classList.remove("gameover")})),e.forEach((n=>{n.classList.remove("sunk"),n.textContent=""})),Object.values(I).forEach((n=>{n.placed=!1})),O.playerBoard.resetBoard(),G.playerBoard.resetBoard(),O.stats.hits=0,O.stats.misses=0,O.stats.oppSunk=0,G.stats.hits=0,G.stats.misses=0,G.stats.oppSunk=0,P(),R(),function(){const n=document.querySelector(".restartGame"),e=document.querySelector(".gameActive"),t=document.querySelector(".gameInit");x(),t.classList.remove("hidden"),t.style.display="block",e.style.display="none",e.classList.add("hidden"),n.classList.add("hiddenBtn"),D=null}(),A(),C(),W()}()})),document.querySelectorAll("#p2Comp .cell").forEach((n=>{n.removeEventListener("click",B),n.addEventListener("click",B)}))}const I={},N={},H=[["carrier",5],["battleship",4],["cruiser",3],["submarine",3],["destroyer",2]],G=new b("user"),O=new b("comp");let Y={},D=null;function P(){H.forEach((n=>{let[e,t]=n;I[e]={ship:new y(e,t),placed:!1,orientation:"horizontal"},N[e]=new y(e,t)}))}function F(n,e,t){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=Number(t.dataset.xCoord),a=Number(t.dataset.yCoord),i="horizontal"===e;for(let e=0;e<n.length;e++){const t=i?o:o+e,s=i?a+e:a;if(t>9||s>9)return;const c=document.querySelector(`[data-x-coord="${t}"][data-y-coord="${s}"]`);if(c)if(r){const e=i&&a+n.length-1>9||!i&&o+n.length-1>9;c.classList.add(e?"hover-invalid":"hover-valid")}else c.classList.remove("hover-valid","hover-invalid")}}function R(){Object.entries(N).forEach((n=>{let[e,t]=n,r=!1;for(;!r;){const n=Math.random()<.5?"horizontal":"vertical",e="horizontal"===n?9:10-t.length,o="horizontal"===n?10-t.length:9,a=Math.floor(Math.random()*(e+1)),i=Math.floor(Math.random()*(o+1));r=O.playerBoard.placeShip(t,n,a,i)}}))}function W(){(function(){const n=document.querySelector(".startGame"),e=document.querySelector(".nameInput");n.addEventListener("click",(()=>{Object.values(I).filter((n=>!n.placed)).length>0?S("Place Your Ships!"):!e||e.value.length<2?S("Enter Your Name!"):(Y={name:e.value,player:G,ships:I},function(){const n=document.querySelector(".restartGame"),e=document.querySelector(".gameActive"),t=document.querySelector(".gameInit");e.style.display="flex",e.classList.remove("hidden"),t.classList.add("hidden"),t.style.display="none",n.classList.remove("hiddenBtn")}(),T())}))})(),function(){const n=document.querySelector(".rotateGame");document.querySelectorAll(".placeShipBtn").forEach((n=>{n.addEventListener("click",(()=>{D=n.textContent}))})),n.addEventListener("click",(()=>{!function(n){if(!n||!I[n])return;const e=I[n];e.orientation="horizontal"===e.orientation?"vertical":"horizontal"}(D)}))}(),function(){const n=document.querySelector(".resetGame"),e=document.querySelectorAll(".placeShipBtn"),t=document.querySelectorAll("#initBoard div");n.addEventListener("click",(()=>{G.playerBoard.resetBoard(),Object.values(I).forEach((n=>{n.placed=!1})),e.forEach((n=>{n.classList.remove("placed","selected")})),t.forEach((n=>{n.className="cell"}))}))}(),document.querySelectorAll("#initBoard .cell").forEach((n=>{n.addEventListener("mouseenter",(()=>{if(!D)return;const e=I[D];F(e.ship,e.orientation,n,!0)})),n.addEventListener("mouseleave",(()=>{if(!D)return;const e=I[D];F(e.ship,e.orientation,n,!1)})),n.addEventListener("click",(()=>{const e=document.querySelectorAll(".placeShipBtn"),t=Object.values(I).filter((n=>!n.placed));if(!D)return;const r=I[D];if(r.placed)return;const o="horizontal"===r.orientation;G.playerBoard.placeShip(r.ship,r.orientation,Number(n.dataset.xCoord),Number(n.dataset.yCoord)),r.placed=!0,e.forEach((n=>{n.textContent==D&&n.classList.add("placed","selected")}));const a=Number(n.dataset.xCoord),i=Number(n.dataset.yCoord);for(let n=0;n<r.ship.length;n++){const e=o?a:a+n,t=o?i+n:i,r=document.querySelector(`[data-x-coord="${e}"][data-y-coord="${t}"]`);r&&r.classList.add(`${D}`,"placed","hasShip")}0==t.length&&(D=null)}))}))}!function(){const n=document.querySelector(".newGame");P(),n.addEventListener("click",(()=>{R(),x(),C(),W()}))}()})();